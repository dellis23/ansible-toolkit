#!/usr/bin/env python

import argparse

import ansible_toolkit


if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('host')
    parser.add_argument('-i', '--inventory', type=str,
                        help="Path to inventory file")
    parser.add_argument('-p', '--vault-password-file', type=str,
                        help="Path to vault password file")
    args = parser.parse_args()

    for name, previous_vars, current_vars in \
            ansible_toolkit.show_variables(
                args.host, args.inventory, args.vault_password_file):
        print name
        ansible_toolkit.utils.show_diff(previous_vars, current_vars)
